<!DOCTYPE html>
<html>
    <head>
        <title>Template - Web Component</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        
    </head>
    <body>
        <!-- Define the template-->
        <template id="tmpl">
            <p>This is a new paragraph item: <span></span></p>
            <script>
                console.log("The template has been initiated.")
            </script>
        </template>

        <h1>The &lt;template&gt; tag</h1>
        <div id="content">
            <p>
                The &lt;template&gt; tag provides a way of defining content that should be considered separate from the document until it is intentionally created and used.
            </p>
            <p>
                This example uses a template to create content which is then insertd into the div below.
            </p>
            <!-- new content will be placed into this div-->
            <div id="example">
            </div>            
        </div>
        <button type="button" id="btnStamp">Stamp New Item</button>

        <script>
            var count = 1;

            window.addEventListener("DOMContentLoaded", e => {
                // add a click listener to the button
                document.getElementById("btnStamp").addEventListener("click", e => {
                    // make a deep copy of the template content and import it into the current element
                    var tmpl = document.getElementById('tmpl');
                    var newNode = document.importNode(tmpl.content, true);
                    // modify the content of the part of the template
                    newNode.querySelector("span").textContent = count++;
                    // insert the new content into the document
                    document.getElementById("example").appendChild(newNode);
                });
            });
        </script>
    </body>
</html>